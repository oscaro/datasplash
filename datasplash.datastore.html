<!DOCTYPE html PUBLIC ""
    "">
<html><head><meta charset="UTF-8" /><title>datasplash.datastore documentation</title><link rel="stylesheet" type="text/css" href="css/default.css" /><link rel="stylesheet" type="text/css" href="css/highlight.css" /><script type="text/javascript" src="js/highlight.min.js"></script><script type="text/javascript" src="js/jquery.min.js"></script><script type="text/javascript" src="js/page_effects.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body><div id="header"><h2>Generated by <a href="https://github.com/weavejester/codox">Codox</a></h2><h1><a href="index.html"><span class="project-title"><span class="project-name">Datasplash</span> <span class="project-version">0.6.2</span></span></a></h1></div><div class="sidebar primary"><h3 class="no-link"><span class="inner">Project</span></h3><ul class="index-link"><li class="depth-1 "><a href="index.html"><div class="inner">Index</div></a></li></ul><h3 class="no-link"><span class="inner">Namespaces</span></h3><ul><li class="depth-1"><div class="no-link"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>datasplash</span></div></div></li><li class="depth-2 branch"><a href="datasplash.api.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>api</span></div></a></li><li class="depth-2 branch"><a href="datasplash.bq.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>bq</span></div></a></li><li class="depth-2 branch current"><a href="datasplash.datastore.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>datastore</span></div></a></li><li class="depth-2"><a href="datasplash.pubsub.html"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>pubsub</span></div></a></li></ul></div><div class="sidebar secondary"><h3><a href="#top"><span class="inner">Public Vars</span></a></h3><ul><li class="depth-1"><a href="datasplash.datastore.html#var-entity-.3Eclj"><div class="inner"><span>entity-&gt;clj</span></div></a></li><li class="depth-1"><a href="datasplash.datastore.html#var-IValDS"><div class="inner"><span>IValDS</span></div></a></li><li class="depth-2"><a href="datasplash.datastore.html#var-make-ds-value-builder"><div class="inner"><span class="tree"><span class="top"></span><span class="bottom"></span></span><span>make-ds-value-builder</span></div></a></li><li class="depth-1"><a href="datasplash.datastore.html#var-make-ds-entity"><div class="inner"><span>make-ds-entity</span></div></a></li><li class="depth-1"><a href="datasplash.datastore.html#var-make-ds-key"><div class="inner"><span>make-ds-key</span></div></a></li><li class="depth-1"><a href="datasplash.datastore.html#var-make-ds-value"><div class="inner"><span>make-ds-value</span></div></a></li><li class="depth-1"><a href="datasplash.datastore.html#var-read-datastore-raw"><div class="inner"><span>read-datastore-raw</span></div></a></li><li class="depth-1"><a href="datasplash.datastore.html#var-type-mapping"><div class="inner"><span>type-mapping</span></div></a></li><li class="depth-1"><a href="datasplash.datastore.html#var-value-.3Eclj"><div class="inner"><span>value-&gt;clj</span></div></a></li><li class="depth-1"><a href="datasplash.datastore.html#var-write-datastore-raw"><div class="inner"><span>write-datastore-raw</span></div></a></li></ul></div><div class="namespace-docs" id="content"><h1 class="anchor" id="top">datasplash.datastore</h1><div class="doc"><div class="markdown"></div></div><div class="public anchor" id="var-entity-.3Eclj"><h3>entity-&gt;clj</h3><div class="usage"><code>(entity-&gt;clj e)</code></div><div class="doc"><div class="markdown"><p>Converts a Datastore Entity to a Clojure map with the same properties. Repeated fields are handled as vectors and nested Entities as maps. All keys are turned to keywords. If the entity has a Key, Kind or Namespace, these can be found as :key, :kind, :namespace and :ancestors in the meta of the returned map</p></div></div><div class="src-link"><a href="https://github.com/ngrunwald/datasplash/blob/v0.6.0/src/clj/datasplash/datastore.clj#L60">view source</a></div></div><div class="public anchor" id="var-IValDS"><h3>IValDS</h3><h4 class="type">protocol</h4><div class="usage"></div><div class="doc"><div class="markdown"><p>Protocol governing to conversion to datastore Value types</p></div></div><div class="members"><h4>members</h4><div class="inner"><div class="public anchor" id="var-make-ds-value-builder"><h3>make-ds-value-builder</h3><div class="usage"><code>(make-ds-value-builder v)</code></div><div class="doc"><div class="markdown"><p>Returns a Datastore Value builder for this particular value</p></div></div></div></div></div><div class="src-link"><a href="https://github.com/ngrunwald/datasplash/blob/v0.6.0/src/clj/datasplash/datastore.clj#L79">view source</a></div></div><div class="public anchor" id="var-make-ds-entity"><h3>make-ds-entity</h3><div class="usage"><code>(make-ds-entity raw-values {:keys [key namespace kind ancestors exclude-from-index], :as options})</code><code>(make-ds-entity raw-values)</code></div><div class="doc"><div class="markdown"><p>Builds a Datastore Entity with the given Clojure value which is a map or seq of KVs corresponding to the desired entity, and options contains an optional key, ancestor, namespace, kind and an optional set of field names that shoud not be indexed (only supported for top level fields for now). Supports repeated fields and nested entities (as nested map)</p></div></div><div class="src-link"><a href="https://github.com/ngrunwald/datasplash/blob/v0.6.0/src/clj/datasplash/datastore.clj#L147">view source</a></div></div><div class="public anchor" id="var-make-ds-key"><h3>make-ds-key</h3><div class="usage"><code>(make-ds-key {:keys [kind key namespace path]})</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/ngrunwald/datasplash/blob/v0.6.0/src/clj/datasplash/datastore.clj#L114">view source</a></div></div><div class="public anchor" id="var-make-ds-value"><h3>make-ds-value</h3><div class="usage"><code>(make-ds-value v)</code></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/ngrunwald/datasplash/blob/v0.6.0/src/clj/datasplash/datastore.clj#L143">view source</a></div></div><div class="public anchor" id="var-read-datastore-raw"><h3>read-datastore-raw</h3><div class="usage"><code>(read-datastore-raw {:keys [project-id query namespace num-query-split], :as options} pcoll)</code></div><div class="doc"><div class="markdown"><p>Read a datastore source return a pcoll of raw datastore entities</p></div></div><div class="src-link"><a href="https://github.com/ngrunwald/datasplash/blob/v0.6.0/src/clj/datasplash/datastore.clj#L21">view source</a></div></div><div class="public anchor" id="var-type-mapping"><h3>type-mapping</h3><h4 class="dynamic">dynamic</h4><div class="usage"></div><div class="doc"><div class="markdown"></div></div><div class="src-link"><a href="https://github.com/ngrunwald/datasplash/blob/v0.6.0/src/clj/datasplash/datastore.clj#L36">view source</a></div></div><div class="public anchor" id="var-value-.3Eclj"><h3>value-&gt;clj</h3><div class="usage"><code>(value-&gt;clj v)</code></div><div class="doc"><div class="markdown"><p>Converts a Datastore Value to its Clojure equivalent</p></div></div><div class="src-link"><a href="https://github.com/ngrunwald/datasplash/blob/v0.6.0/src/clj/datasplash/datastore.clj#L51">view source</a></div></div><div class="public anchor" id="var-write-datastore-raw"><h3>write-datastore-raw</h3><div class="usage"><code>(write-datastore-raw {:keys [project-id], :as options} pcoll)</code></div><div class="doc"><div class="markdown"><p>Write a pcoll of already generated datastore entity in datastore</p></div></div><div class="src-link"><a href="https://github.com/ngrunwald/datasplash/blob/v0.6.0/src/clj/datasplash/datastore.clj#L11">view source</a></div></div></div></body></html>